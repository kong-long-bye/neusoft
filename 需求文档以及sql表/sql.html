<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸œè½¯åŒ»ç–—ä¿é™©ç³»ç»Ÿ - æ•°æ®åº“è¡¨å±æ€§æŸ¥çœ‹å™¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .main-content {
            display: flex;
            height: calc(100vh - 200px);
        }

        .sidebar {
            width: 350px;
            background: #f8f9fa;
            border-right: 1px solid #e9ecef;
            padding: 20px;
            overflow-y: auto;
        }

        .sidebar h3 {
            margin-bottom: 20px;
            color: #2c3e50;
            font-size: 1.3rem;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }

        .table-category {
            margin-bottom: 25px;
        }

        .category-title {
            background: #3498db;
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-weight: 600;
            margin-bottom: 10px;
            font-size: 0.9rem;
        }

        .table-list {
            list-style: none;
        }

        .table-item {
            padding: 12px 15px;
            margin: 5px 0;
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .table-item:hover {
            background: #e3f2fd;
            border-color: #2196f3;
            transform: translateX(5px);
        }

        .table-item.active {
            background: #2196f3;
            color: white;
            border-color: #2196f3;
        }

        .table-name {
            font-weight: 600;
            margin-bottom: 4px;
        }

        .table-comment {
            font-size: 0.85rem;
            opacity: 0.7;
        }

        .content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .table-details {
            display: none;
        }

        .table-details.active {
            display: block;
        }

        .details-header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .details-title {
            font-size: 1.8rem;
            margin-bottom: 8px;
        }

        .details-subtitle {
            opacity: 0.9;
            font-size: 1rem;
        }

        .fields-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .fields-table th {
            background: #34495e;
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        .fields-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #f1f1f1;
        }

        .fields-table tr:hover {
            background: #f8f9fa;
        }

        .field-type {
            background: #e74c3c;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .field-type.varchar { background: #3498db; }
        .field-type.int { background: #e67e22; }
        .field-type.bigint { background: #e67e22; }
        .field-type.decimal { background: #f39c12; }
        .field-type.datetime { background: #9b59b6; }
        .field-type.date { background: #9b59b6; }
        .field-type.text { background: #27ae60; }
        .field-type.tinyint { background: #e74c3c; }
        .field-type.enum { background: #8e44ad; }

        .key-indicator {
            background: #f39c12;
            color: white;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 0.7rem;
            margin-left: 5px;
        }

        .key-indicator.primary { background: #e74c3c; }
        .key-indicator.unique { background: #9b59b6; }
        .key-indicator.foreign { background: #27ae60; }

        .placeholder {
            text-align: center;
            padding: 60px 20px;
            color: #7f8c8d;
        }

        .placeholder-icon {
            font-size: 4rem;
            margin-bottom: 20px;
        }

        .stats-bar {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .stat-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            text-align: center;
            flex: 1;
        }

        .stat-number {
            font-size: 1.5rem;
            font-weight: 600;
            color: #2c3e50;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #7f8c8d;
            margin-top: 5px;
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
                height: auto;
            }

            .sidebar {
                width: 100%;
                max-height: 300px;
            }

            .header h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>ğŸ“Š æ•°æ®åº“è¡¨å±æ€§æŸ¥çœ‹å™¨</h1>
        <p>ä¸œè½¯åŒ»ç–—ä¿é™©æŠ¥é”€ç³»ç»Ÿæ•°æ®åº“è®¾è®¡æ–‡æ¡£</p>
    </div>

    <div class="main-content">
        <div class="sidebar">
            <h3>æ•°æ®åº“è¡¨åˆ—è¡¨</h3>

            <div class="table-category">
                <div class="category-title">ğŸ” ç³»ç»Ÿç®¡ç†è¡¨</div>
                <ul class="table-list">
                    <li class="table-item" data-table="sys_user">
                        <div class="table-name">sys_user</div>
                        <div class="table-comment">ç”¨æˆ·è¡¨</div>
                    </li>
                    <li class="table-item" data-table="sys_role">
                        <div class="table-name">sys_role</div>
                        <div class="table-comment">è§’è‰²è¡¨</div>
                    </li>
                    <li class="table-item" data-table="sys_permission">
                        <div class="table-name">sys_permission</div>
                        <div class="table-comment">æƒé™è¡¨</div>
                    </li>
                    <li class="table-item" data-table="sys_user_role">
                        <div class="table-name">sys_user_role</div>
                        <div class="table-comment">ç”¨æˆ·è§’è‰²å…³è”è¡¨</div>
                    </li>
                    <li class="table-item" data-table="sys_role_permission">
                        <div class="table-name">sys_role_permission</div>
                        <div class="table-comment">è§’è‰²æƒé™å…³è”è¡¨</div>
                    </li>
                </ul>
            </div>

            <div class="table-category">
                <div class="category-title">ğŸ“‹ åŸºç¡€æ•°æ®è¡¨</div>
                <ul class="table-list">
                    <li class="table-item" data-table="diseases">
                        <div class="table-name">diseases</div>
                        <div class="table-comment">ç–¾ç—…ä¿¡æ¯è¡¨</div>
                    </li>
                    <li class="table-item" data-table="drugs">
                        <div class="table-name">drugs</div>
                        <div class="table-comment">è¯å“ä¿¡æ¯è¡¨</div>
                    </li>
                    <li class="table-item" data-table="treatments">
                        <div class="table-name">treatments</div>
                        <div class="table-comment">è¯Šç–—é¡¹ç›®è¡¨</div>
                    </li>
                    <li class="table-item" data-table="medical_facilities">
                        <div class="table-name">medical_facilities</div>
                        <div class="table-comment">åŒ»ç–—æœåŠ¡è®¾æ–½è¡¨</div>
                    </li>
                </ul>
            </div>

            <div class="table-category">
                <div class="category-title">ğŸ’° æŠ¥é”€æ¯”ä¾‹è¡¨</div>
                <ul class="table-list">
                    <li class="table-item" data-table="drug_reimbursement_ratios">
                        <div class="table-name">drug_reimbursement_ratios</div>
                        <div class="table-comment">è¯å“æŠ¥é”€æ¯”ä¾‹è¡¨</div>
                    </li>
                    <li class="table-item" data-table="level3_hospital_ratios">
                        <div class="table-name">level3_hospital_ratios</div>
                        <div class="table-comment">ä¸‰çº§åŒ»é™¢æŠ¥é”€æ¯”ä¾‹è¡¨</div>
                    </li>
                    <li class="table-item" data-table="level2_hospital_ratios">
                        <div class="table-name">level2_hospital_ratios</div>
                        <div class="table-comment">äºŒçº§åŒ»é™¢æŠ¥é”€æ¯”ä¾‹è¡¨</div>
                    </li>
                    <li class="table-item" data-table="level1_hospital_ratios">
                        <div class="table-name">level1_hospital_ratios</div>
                        <div class="table-comment">ä¸€çº§åŒ»é™¢æŠ¥é”€æ¯”ä¾‹è¡¨</div>
                    </li>
                </ul>
            </div>

            <div class="table-category">
                <div class="category-title">ğŸ¥ ä¸šåŠ¡æ•°æ®è¡¨</div>
                <ul class="table-list">
                    <li class="table-item" data-table="patients">
                        <div class="table-name">patients</div>
                        <div class="table-comment">æ‚£è€…ä¿¡æ¯è¡¨</div>
                    </li>
                    <li class="table-item" data-table="insured_persons">
                        <div class="table-name">insured_persons</div>
                        <div class="table-comment">å‚ä¿äººå‘˜è¡¨</div>
                    </li>
                    <li class="table-item" data-table="patient_diagnoses">
                        <div class="table-name">patient_diagnoses</div>
                        <div class="table-comment">æ‚£è€…ç–¾ç—…è¯Šæ–­è¡¨</div>
                    </li>
                    <li class="table-item" data-table="patient_prescriptions">
                        <div class="table-name">patient_prescriptions</div>
                        <div class="table-comment">æ‚£è€…è¯å“å¤„æ–¹è¡¨</div>
                    </li>
                    <li class="table-item" data-table="patient_treatments">
                        <div class="table-name">patient_treatments</div>
                        <div class="table-comment">æ‚£è€…è¯Šç–—é¡¹ç›®è¡¨</div>
                    </li>
                    <li class="table-item" data-table="patient_medical_services">
                        <div class="table-name">patient_medical_services</div>
                        <div class="table-comment">æ‚£è€…åŒ»ç–—æœåŠ¡è¡¨</div>
                    </li>
                    <li class="table-item" data-table="reimbursement_records">
                        <div class="table-name">reimbursement_records</div>
                        <div class="table-comment">è´¹ç”¨æŠ¥é”€è®°å½•è¡¨</div>
                    </li>
                </ul>
            </div>
        </div>

        <div class="content">
            <div class="placeholder">
                <div class="placeholder-icon">ğŸ—ƒï¸</div>
                <h3>é€‰æ‹©ä¸€ä¸ªè¡¨æ ¼æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯</h3>
                <p>ç‚¹å‡»å·¦ä¾§è¡¨æ ¼åç§°æ¥æŸ¥çœ‹å­—æ®µå±æ€§å’Œæè¿°</p>
            </div>

            <!-- è¡¨æ ¼è¯¦æƒ…æ¨¡æ¿ -->
            <div id="table-details-template" class="table-details">
                <div class="details-header">
                    <div class="details-title" id="table-title"></div>
                    <div class="details-subtitle" id="table-subtitle"></div>
                </div>

                <div class="stats-bar">
                    <div class="stat-item">
                        <div class="stat-number" id="field-count">0</div>
                        <div class="stat-label">å­—æ®µæ•°é‡</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="index-count">0</div>
                        <div class="stat-label">ç´¢å¼•æ•°é‡</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="key-count">0</div>
                        <div class="stat-label">çº¦æŸæ•°é‡</div>
                    </div>
                </div>

                <table class="fields-table">
                    <thead>
                    <tr>
                        <th style="width: 20%">å­—æ®µå</th>
                        <th style="width: 15%">æ•°æ®ç±»å‹</th>
                        <th style="width: 10%">çº¦æŸ</th>
                        <th style="width: 15%">é»˜è®¤å€¼</th>
                        <th style="width: 40%">æè¿°</th>
                    </tr>
                    </thead>
                    <tbody id="fields-body">
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<script>
    // æ•°æ®åº“è¡¨å­—æ®µå®šä¹‰
    const tableDefinitions = {
        sys_user: {
            title: 'sys_user',
            subtitle: 'ç”¨æˆ·è¡¨ - å­˜å‚¨ç³»ç»Ÿç”¨æˆ·ä¿¡æ¯',
            fields: [
                { name: 'id', type: 'BIGINT', constraint: 'PRIMARY KEY', default: 'AUTO_INCREMENT', comment: 'ç”¨æˆ·ID' },
                { name: 'username', type: 'VARCHAR(50)', constraint: 'NOT NULL UNIQUE', default: '', comment: 'ç”¨æˆ·å' },
                { name: 'password', type: 'VARCHAR(255)', constraint: 'NOT NULL', default: '', comment: 'å¯†ç ' },
                { name: 'real_name', type: 'VARCHAR(50)', constraint: 'NOT NULL', default: '', comment: 'çœŸå®å§“å' },
                { name: 'email', type: 'VARCHAR(100)', constraint: '', default: '', comment: 'é‚®ç®±' },
                { name: 'phone', type: 'VARCHAR(20)', constraint: '', default: '', comment: 'æ‰‹æœºå·' },
                { name: 'status', type: 'TINYINT', constraint: '', default: '1', comment: 'çŠ¶æ€(0=ç¦ç”¨,1=å¯ç”¨)' },
                { name: 'create_time', type: 'DATETIME', constraint: '', default: 'CURRENT_TIMESTAMP', comment: 'åˆ›å»ºæ—¶é—´' },
                { name: 'update_time', type: 'DATETIME', constraint: '', default: 'CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP', comment: 'æ›´æ–°æ—¶é—´' }
            ]
        },
        sys_role: {
            title: 'sys_role',
            subtitle: 'è§’è‰²è¡¨ - å®šä¹‰ç³»ç»Ÿè§’è‰²',
            fields: [
                { name: 'id', type: 'BIGINT', constraint: 'PRIMARY KEY', default: 'AUTO_INCREMENT', comment: 'è§’è‰²ID' },
                { name: 'role_name', type: 'VARCHAR(50)', constraint: 'NOT NULL', default: '', comment: 'è§’è‰²åç§°' },
                { name: 'role_code', type: 'VARCHAR(50)', constraint: 'NOT NULL UNIQUE', default: '', comment: 'è§’è‰²ç¼–ç ' },
                { name: 'description', type: 'VARCHAR(200)', constraint: '', default: '', comment: 'è§’è‰²æè¿°' },
                { name: 'status', type: 'TINYINT', constraint: '', default: '1', comment: 'çŠ¶æ€(0=ç¦ç”¨,1=å¯ç”¨)' },
                { name: 'create_time', type: 'DATETIME', constraint: '', default: 'CURRENT_TIMESTAMP', comment: 'åˆ›å»ºæ—¶é—´' },
                { name: 'update_time', type: 'DATETIME', constraint: '', default: 'CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP', comment: 'æ›´æ–°æ—¶é—´' }
            ]
        },
        sys_permission: {
            title: 'sys_permission',
            subtitle: 'æƒé™è¡¨ - ç³»ç»ŸåŠŸèƒ½æƒé™å®šä¹‰',
            fields: [
                { name: 'id', type: 'BIGINT', constraint: 'PRIMARY KEY', default: 'AUTO_INCREMENT', comment: 'æƒé™ID' },
                { name: 'permission_name', type: 'VARCHAR(50)', constraint: 'NOT NULL', default: '', comment: 'æƒé™åç§°' },
                { name: 'permission_code', type: 'VARCHAR(100)', constraint: 'NOT NULL UNIQUE', default: '', comment: 'æƒé™ç¼–ç ' },
                { name: 'permission_type', type: 'TINYINT', constraint: 'NOT NULL', default: '', comment: 'æƒé™ç±»å‹(1=èœå•,2=æŒ‰é’®)' },
                { name: 'parent_id', type: 'BIGINT', constraint: '', default: '0', comment: 'çˆ¶æƒé™ID' },
                { name: 'path', type: 'VARCHAR(200)', constraint: '', default: '', comment: 'è·¯å¾„' },
                { name: 'icon', type: 'VARCHAR(50)', constraint: '', default: '', comment: 'å›¾æ ‡' },
                { name: 'sort_order', type: 'INT', constraint: '', default: '0', comment: 'æ’åº' },
                { name: 'status', type: 'TINYINT', constraint: '', default: '1', comment: 'çŠ¶æ€(0=ç¦ç”¨,1=å¯ç”¨)' },
                { name: 'create_time', type: 'DATETIME', constraint: '', default: 'CURRENT_TIMESTAMP', comment: 'åˆ›å»ºæ—¶é—´' },
                { name: 'update_time', type: 'DATETIME', constraint: '', default: 'CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP', comment: 'æ›´æ–°æ—¶é—´' }
            ]
        },
        diseases: {
            title: 'diseases',
            subtitle: 'ç–¾ç—…ä¿¡æ¯è¡¨ - åŸºäºå›½é™…ç–¾ç—…åˆ†ç±»æ ‡å‡†ICD10 (29,395æ¡è®°å½•)',
            fields: [
                { name: 'id', type: 'BIGINT', constraint: 'PRIMARY KEY', default: 'AUTO_INCREMENT', comment: 'ç–¾ç—…ID' },
                { name: 'icd_code', type: 'VARCHAR(20)', constraint: 'NOT NULL UNIQUE', default: '', comment: 'å›½é™…ICDç¼–ç ' },
                { name: 'disease_code', type: 'VARCHAR(50)', constraint: 'NOT NULL UNIQUE', default: '', comment: 'ç–¾ç—…ç¼–ç ' },
                { name: 'disease_name', type: 'VARCHAR(200)', constraint: 'NOT NULL', default: '', comment: 'ç–¾ç—…åç§°' },
                { name: 'disease_category', type: 'VARCHAR(100)', constraint: '', default: '', comment: 'ç–¾ç—…åˆ†ç±»' },
                { name: 'status', type: 'TINYINT', constraint: '', default: '1', comment: 'çŠ¶æ€(0=ç¦ç”¨,1=å¯ç”¨)' },
                { name: 'create_time', type: 'DATETIME', constraint: '', default: 'CURRENT_TIMESTAMP', comment: 'åˆ›å»ºæ—¶é—´' },
                { name: 'update_time', type: 'DATETIME', constraint: '', default: 'CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP', comment: 'æ›´æ–°æ—¶é—´' }
            ]
        },
        drugs: {
            title: 'drugs',
            subtitle: 'è¯å“ä¿¡æ¯è¡¨ - åŸºäºåŒ»ä¿è¯å“ç›®å½• (12,376æ¡è®°å½•)',
            fields: [
                { name: 'id', type: 'BIGINT', constraint: 'PRIMARY KEY', default: 'AUTO_INCREMENT', comment: 'è¯å“ID' },
                { name: 'drug_name', type: 'VARCHAR(200)', constraint: 'NOT NULL', default: '', comment: 'åŒ»ä¿ä¸­æ–‡åç§°' },
                { name: 'brand_name', type: 'VARCHAR(200)', constraint: '', default: '', comment: 'å•†å“å' },
                { name: 'specification', type: 'VARCHAR(500)', constraint: '', default: '', comment: 'è§„æ ¼' },
                { name: 'unit', type: 'VARCHAR(20)', constraint: '', default: '', comment: 'å•ä½' },
                { name: 'manufacturer', type: 'VARCHAR(500)', constraint: '', default: '', comment: 'ç”Ÿäº§ä¼ä¸š' },
                { name: 'drug_category', type: 'ENUM', constraint: 'NOT NULL', default: '', comment: 'è¯å“åˆ†ç±»(ç”²ç±»/ä¹™ç±»/ä¸™ç±»)' },
                { name: 'price', type: 'DECIMAL(10,2)', constraint: 'NOT NULL', default: '', comment: 'æ”¯ä»˜æ ‡å‡†(ä»·æ ¼)' },
                { name: 'remarks', type: 'TEXT', constraint: '', default: '', comment: 'å¤‡æ³¨' },
                { name: 'status', type: 'TINYINT', constraint: '', default: '1', comment: 'çŠ¶æ€(0=ç¦ç”¨,1=å¯ç”¨)' },
                { name: 'create_time', type: 'DATETIME', constraint: '', default: 'CURRENT_TIMESTAMP', comment: 'åˆ›å»ºæ—¶é—´' },
                { name: 'update_time', type: 'DATETIME', constraint: '', default: 'CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP', comment: 'æ›´æ–°æ—¶é—´' }
            ]
        },
        treatments: {
            title: 'treatments',
            subtitle: 'è¯Šç–—é¡¹ç›®è¡¨ - åŸºäºè¯Šç–—é¡¹ç›®ç›®å½• (14,642æ¡è®°å½•)',
            fields: [
                { name: 'id', type: 'BIGINT', constraint: 'PRIMARY KEY', default: 'AUTO_INCREMENT', comment: 'è¯Šç–—é¡¹ç›®ID' },
                { name: 'financial_category', type: 'VARCHAR(10)', constraint: '', default: '', comment: 'è´¢åŠ¡åˆ†ç±»' },
                { name: 'project_code', type: 'VARCHAR(50)', constraint: 'NOT NULL UNIQUE', default: '', comment: 'é¡¹ç›®ç¼–ç ' },
                { name: 'national_code', type: 'VARCHAR(100)', constraint: '', default: '', comment: 'å›½å®¶ç¼–ç ' },
                { name: 'project_name', type: 'VARCHAR(200)', constraint: 'NOT NULL', default: '', comment: 'é¡¹ç›®åç§°' },
                { name: 'unit', type: 'VARCHAR(20)', constraint: 'NOT NULL', default: '', comment: 'è®¡ä»·å•ä½' },
                { name: 'price', type: 'DECIMAL(10,2)', constraint: 'NOT NULL', default: '', comment: 'ä»·æ ¼' },
                { name: 'status', type: 'TINYINT', constraint: '', default: '1', comment: 'çŠ¶æ€(0=ç¦ç”¨,1=å¯ç”¨)' },
                { name: 'create_time', type: 'DATETIME', constraint: '', default: 'CURRENT_TIMESTAMP', comment: 'åˆ›å»ºæ—¶é—´' },
                { name: 'update_time', type: 'DATETIME', constraint: '', default: 'CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP', comment: 'æ›´æ–°æ—¶é—´' }
            ]
        },
        medical_facilities: {
            title: 'medical_facilities',
            subtitle: 'åŒ»ç–—æœåŠ¡è®¾æ–½è¡¨ - åŸºäºåŒ»ç–—æœåŠ¡é¡¹ç›®ç›®å½• (295æ¡è®°å½•)',
            fields: [
                { name: 'id', type: 'BIGINT', constraint: 'PRIMARY KEY', default: 'AUTO_INCREMENT', comment: 'åŒ»ç–—æœåŠ¡è®¾æ–½ID' },
                { name: 'financial_category', type: 'VARCHAR(10)', constraint: '', default: '', comment: 'è´¢åŠ¡åˆ†ç±»' },
                { name: 'project_code', type: 'VARCHAR(50)', constraint: 'NOT NULL UNIQUE', default: '', comment: 'é¡¹ç›®ç¼–ç ' },
                { name: 'national_code', type: 'VARCHAR(100)', constraint: '', default: '', comment: 'å›½å®¶ç¼–ç ' },
                { name: 'project_name', type: 'VARCHAR(200)', constraint: 'NOT NULL', default: '', comment: 'é¡¹ç›®åç§°' },
                { name: 'project_content', type: 'TEXT', constraint: '', default: '', comment: 'é¡¹ç›®å†…æ¶µ' },
                { name: 'unit', type: 'VARCHAR(20)', constraint: 'NOT NULL', default: '', comment: 'è®¡ä»·å•ä½' },
                { name: 'price', type: 'DECIMAL(10,2)', constraint: 'NOT NULL', default: '', comment: 'ä»·æ ¼' },
                { name: 'status', type: 'TINYINT', constraint: '', default: '1', comment: 'çŠ¶æ€(0=ç¦ç”¨,1=å¯ç”¨)' },
                { name: 'create_time', type: 'DATETIME', constraint: '', default: 'CURRENT_TIMESTAMP', comment: 'åˆ›å»ºæ—¶é—´' },
                { name: 'update_time', type: 'DATETIME', constraint: '', default: 'CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP', comment: 'æ›´æ–°æ—¶é—´' }
            ]
        },
        drug_reimbursement_ratios: {
            title: 'drug_reimbursement_ratios',
            subtitle: 'è¯å“æŠ¥é”€æ¯”ä¾‹è¡¨ - ç”²ä¹™ä¸™ç±»è¯å“æŠ¥é”€æ¯”ä¾‹é…ç½®',
            fields: [
                { name: 'id', type: 'BIGINT', constraint: 'PRIMARY KEY', default: 'AUTO_INCREMENT', comment: 'ID' },
                { name: 'drug_category', type: 'ENUM', constraint: 'NOT NULL', default: '', comment: 'è¯å“ç±»å‹(ç”²ç±»/ä¹™ç±»/ä¸™ç±»)' },
                { name: 'employee_type', type: 'ENUM', constraint: 'NOT NULL', default: '', comment: 'äººå‘˜ç±»å‹(åœ¨èŒ/é€€ä¼‘)' },
                { name: 'reimbursement_ratio', type: 'DECIMAL(5,4)', constraint: 'NOT NULL', default: '', comment: 'æŠ¥é”€æ¯”ä¾‹(0-1)' },
                { name: 'remarks', type: 'VARCHAR(500)', constraint: '', default: '', comment: 'å¤‡æ³¨' },
                { name: 'status', type: 'TINYINT', constraint: '', default: '1', comment: 'çŠ¶æ€(0=ç¦ç”¨,1=å¯ç”¨)' },
                { name: 'create_time', type: 'DATETIME', constraint: '', default: 'CURRENT_TIMESTAMP', comment: 'åˆ›å»ºæ—¶é—´' },
                { name: 'update_time', type: 'DATETIME', constraint: '', default: 'CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP', comment: 'æ›´æ–°æ—¶é—´' }
            ]
        },
        level3_hospital_ratios: {
            title: 'level3_hospital_ratios',
            subtitle: 'ä¸‰çº§åŒ»é™¢æŠ¥é”€æ¯”ä¾‹è¡¨ - åˆ†æ®µæŠ¥é”€æ¯”ä¾‹é…ç½®',
            fields: [
                { name: 'id', type: 'BIGINT', constraint: 'PRIMARY KEY', default: 'AUTO_INCREMENT', comment: 'ID' },
                { name: 'employee_type', type: 'ENUM', constraint: 'NOT NULL', default: '', comment: 'äººå‘˜ç±»å‹(åœ¨èŒ/é€€ä¼‘)' },
                { name: 'min_amount', type: 'DECIMAL(10,2)', constraint: 'NOT NULL', default: '', comment: 'è´¹ç”¨åŒºé—´æœ€å°å€¼' },
                { name: 'max_amount', type: 'DECIMAL(10,2)', constraint: '', default: 'NULL', comment: 'è´¹ç”¨åŒºé—´æœ€å¤§å€¼(NULLè¡¨ç¤ºæ— ä¸Šé™)' },
                { name: 'reimbursement_ratio', type: 'DECIMAL(5,4)', constraint: 'NOT NULL', default: '', comment: 'æŠ¥é”€æ¯”ä¾‹(0-1)' },
                { name: 'remarks', type: 'VARCHAR(500)', constraint: '', default: '', comment: 'å¤‡æ³¨' },
                { name: 'status', type: 'TINYINT', constraint: '', default: '1', comment: 'çŠ¶æ€(0=ç¦ç”¨,1=å¯ç”¨)' },
                { name: 'create_time', type: 'DATETIME', constraint: '', default: 'CURRENT_TIMESTAMP', comment: 'åˆ›å»ºæ—¶é—´' },
                { name: 'update_time', type: 'DATETIME', constraint: '', default: 'CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP', comment: 'æ›´æ–°æ—¶é—´' }
            ]
        },
        patients: {
            title: 'patients',
            subtitle: 'æ‚£è€…ä¿¡æ¯è¡¨ - æ‚£è€…åŸºæœ¬ä¿¡æ¯ç®¡ç†',
            fields: [
                { name: 'id', type: 'BIGINT', constraint: 'PRIMARY KEY', default: 'AUTO_INCREMENT', comment: 'æ‚£è€…ID' },
                { name: 'patient_name', type: 'VARCHAR(50)', constraint: 'NOT NULL', default: '', comment: 'æ‚£è€…å§“å' },
                { name: 'id_card', type: 'VARCHAR(18)', constraint: '', default: '', comment: 'èº«ä»½è¯å·' },
                { name: 'gender', type: 'ENUM', constraint: '', default: '', comment: 'æ€§åˆ«(ç”·/å¥³)' },
                { name: 'birth_date', type: 'DATE', constraint: '', default: '', comment: 'å‡ºç”Ÿæ—¥æœŸ' },
                { name: 'phone', type: 'VARCHAR(20)', constraint: '', default: '', comment: 'è”ç³»ç”µè¯' },
                { name: 'address', type: 'VARCHAR(500)', constraint: '', default: '', comment: 'åœ°å€' },
                { name: 'emergency_contact', type: 'VARCHAR(50)', constraint: '', default: '', comment: 'ç´§æ€¥è”ç³»äºº' },
                { name: 'emergency_phone', type: 'VARCHAR(20)', constraint: '', default: '', comment: 'ç´§æ€¥è”ç³»ç”µè¯' },
                { name: 'status', type: 'TINYINT', constraint: '', default: '1', comment: 'çŠ¶æ€(0=ç¦ç”¨,1=å¯ç”¨)' },
                { name: 'create_time', type: 'DATETIME', constraint: '', default: 'CURRENT_TIMESTAMP', comment: 'åˆ›å»ºæ—¶é—´' },
                { name: 'update_time', type: 'DATETIME', constraint: '', default: 'CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP', comment: 'æ›´æ–°æ—¶é—´' }
            ]
        },
        insured_persons: {
            title: 'insured_persons',
            subtitle: 'å‚ä¿äººå‘˜è¡¨ - åŒ»ä¿å‚ä¿äººå‘˜ä¿¡æ¯ç®¡ç†',
            fields: [
                { name: 'id', type: 'BIGINT', constraint: 'PRIMARY KEY', default: 'AUTO_INCREMENT', comment: 'å‚ä¿äººå‘˜ID' },
                { name: 'person_name', type: 'VARCHAR(50)', constraint: 'NOT NULL', default: '', comment: 'å§“å' },
                { name: 'id_card', type: 'VARCHAR(18)', constraint: 'NOT NULL UNIQUE', default: '', comment: 'èº«ä»½è¯å·' },
                { name: 'gender', type: 'ENUM', constraint: '', default: '', comment: 'æ€§åˆ«(ç”·/å¥³)' },
                { name: 'birth_date', type: 'DATE', constraint: '', default: '', comment: 'å‡ºç”Ÿæ—¥æœŸ' },
                { name: 'phone', type: 'VARCHAR(20)', constraint: '', default: '', comment: 'è”ç³»ç”µè¯' },
                { name: 'address', type: 'VARCHAR(500)', constraint: '', default: '', comment: 'åœ°å€' },
                { name: 'is_insured', type: 'TINYINT', constraint: '', default: '1', comment: 'æ˜¯å¦åŒ»ä¿(0=å¦,1=æ˜¯)' },
                { name: 'employee_type', type: 'ENUM', constraint: 'NOT NULL', default: '', comment: 'å°±ä¸šçŠ¶æ€(åœ¨èŒ/é€€ä¼‘)' },
                { name: 'insurance_number', type: 'VARCHAR(50)', constraint: '', default: '', comment: 'åŒ»ä¿å¡å·' },
                { name: 'company', type: 'VARCHAR(200)', constraint: '', default: '', comment: 'å·¥ä½œå•ä½' },
                { name: 'status', type: 'TINYINT', constraint: '', default: '1', comment: 'çŠ¶æ€(0=ç¦ç”¨,1=å¯ç”¨)' },
                { name: 'create_time', type: 'DATETIME', constraint: '', default: 'CURRENT_TIMESTAMP', comment: 'åˆ›å»ºæ—¶é—´' },
                { name: 'update_time', type: 'DATETIME', constraint: '', default: 'CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP', comment: 'æ›´æ–°æ—¶é—´' }
            ]
        },
        patient_prescriptions: {
            title: 'patient_prescriptions',
            subtitle: 'æ‚£è€…è¯å“å¤„æ–¹è¡¨ - åŒ»ç”Ÿå¼€å…·çš„è¯å“å¤„æ–¹è®°å½•',
            fields: [
                { name: 'id', type: 'BIGINT', constraint: 'PRIMARY KEY', default: 'AUTO_INCREMENT', comment: 'ID' },
                { name: 'patient_id', type: 'BIGINT', constraint: 'NOT NULL FOREIGN KEY', default: '', comment: 'æ‚£è€…ID' },
                { name: 'drug_id', type: 'BIGINT', constraint: 'NOT NULL FOREIGN KEY', default: '', comment: 'è¯å“ID' },
                { name: 'prescription_date', type: 'DATETIME', constraint: 'NOT NULL', default: '', comment: 'å¤„æ–¹æ—¶é—´' },
                { name: 'doctor_name', type: 'VARCHAR(50)', constraint: 'NOT NULL', default: '', comment: 'åŒ»ç”Ÿå§“å' },
                { name: 'department', type: 'VARCHAR(100)', constraint: '', default: '', comment: 'ç§‘å®¤' },
                { name: 'dosage', type: 'VARCHAR(200)', constraint: '', default: '', comment: 'å‰‚é‡' },
                { name: 'usage_method', type: 'VARCHAR(500)', constraint: '', default: '', comment: 'ç”¨æ³•' },
                { name: 'frequency', type: 'VARCHAR(100)', constraint: '', default: '', comment: 'é¢‘æ¬¡' },
                { name: 'duration', type: 'VARCHAR(100)', constraint: '', default: '', comment: 'ç–—ç¨‹' },
                { name: 'quantity', type: 'DECIMAL(10,2)', constraint: 'NOT NULL', default: '', comment: 'æ•°é‡' },
                { name: 'unit_price', type: 'DECIMAL(10,2)', constraint: 'NOT NULL', default: '', comment: 'å•ä»·' },
                { name: 'total_amount', type: 'DECIMAL(10,2)', constraint: 'NOT NULL', default: '', comment: 'æ€»é‡‘é¢' },
                { name: 'status', type: 'TINYINT', constraint: '', default: '1', comment: 'çŠ¶æ€(0=æ— æ•ˆ,1=æœ‰æ•ˆ)' },
                { name: 'create_time', type: 'DATETIME', constraint: '', default: 'CURRENT_TIMESTAMP', comment: 'åˆ›å»ºæ—¶é—´' },
                { name: 'update_time', type: 'DATETIME', constraint: '', default: 'CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP', comment: 'æ›´æ–°æ—¶é—´' }
            ]
        },
        reimbursement_records: {
            title: 'reimbursement_records',
            subtitle: 'è´¹ç”¨æŠ¥é”€è®°å½•è¡¨ - åŒ»ä¿è´¹ç”¨æŠ¥é”€çš„å®Œæ•´è®°å½•',
            fields: [
                { name: 'id', type: 'BIGINT', constraint: 'PRIMARY KEY', default: 'AUTO_INCREMENT', comment: 'ID' },
                { name: 'insured_person_id', type: 'BIGINT', constraint: 'NOT NULL FOREIGN KEY', default: '', comment: 'å‚ä¿äººå‘˜ID' },
                { name: 'patient_id', type: 'BIGINT', constraint: 'FOREIGN KEY', default: '', comment: 'æ‚£è€…ID(å¦‚æœå‚ä¿äººå‘˜å°±æ˜¯æ‚£è€…)' },
                { name: 'hospital_level', type: 'ENUM', constraint: 'NOT NULL', default: '', comment: 'åŒ»é™¢ç­‰çº§(ä¸€çº§/äºŒçº§/ä¸‰çº§)' },
                { name: 'total_drug_amount', type: 'DECIMAL(10,2)', constraint: '', default: '0', comment: 'è¯å“è´¹ç”¨æ€»é¢' },
                { name: 'total_treatment_amount', type: 'DECIMAL(10,2)', constraint: '', default: '0', comment: 'è¯Šç–—è´¹ç”¨æ€»é¢' },
                { name: 'total_service_amount', type: 'DECIMAL(10,2)', constraint: '', default: '0', comment: 'åŒ»ç–—æœåŠ¡è´¹ç”¨æ€»é¢' },
                { name: 'total_amount', type: 'DECIMAL(10,2)', constraint: 'NOT NULL', default: '', comment: 'æ€»è´¹ç”¨' },
                { name: 'drug_reimbursement', type: 'DECIMAL(10,2)', constraint: '', default: '0', comment: 'è¯å“æŠ¥é”€é‡‘é¢' },
                { name: 'treatment_reimbursement', type: 'DECIMAL(10,2)', constraint: '', default: '0', comment: 'è¯Šç–—æŠ¥é”€é‡‘é¢' },
                { name: 'service_reimbursement', type: 'DECIMAL(10,2)', constraint: '', default: '0', comment: 'åŒ»ç–—æœåŠ¡æŠ¥é”€é‡‘é¢' },
                { name: 'total_reimbursement', type: 'DECIMAL(10,2)', constraint: 'NOT NULL', default: '', comment: 'æ€»æŠ¥é”€é‡‘é¢' },
                { name: 'self_payment', type: 'DECIMAL(10,2)', constraint: 'NOT NULL', default: '', comment: 'è‡ªä»˜é‡‘é¢' },
                { name: 'reimbursement_date', type: 'DATETIME', constraint: 'NOT NULL', default: '', comment: 'æŠ¥é”€æ—¶é—´' },
                { name: 'operator', type: 'VARCHAR(50)', constraint: 'NOT NULL', default: '', comment: 'æ“ä½œå‘˜' },
                { name: 'remarks', type: 'TEXT', constraint: '', default: '', comment: 'å¤‡æ³¨' },
                { name: 'status', type: 'TINYINT', constraint: '', default: '1', comment: 'çŠ¶æ€(0=æ— æ•ˆ,1=æœ‰æ•ˆ)' },
                { name: 'create_time', type: 'DATETIME', constraint: '', default: 'CURRENT_TIMESTAMP', comment: 'åˆ›å»ºæ—¶é—´' },
                { name: 'update_time', type: 'DATETIME', constraint: '', default: 'CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP', comment: 'æ›´æ–°æ—¶é—´' }
            ]
        }
    };

    // ä¸ºå…¶ä»–è¡¨æ ¼æ·»åŠ ç®€åŒ–å®šä¹‰
    ['sys_user_role', 'sys_role_permission', 'level2_hospital_ratios', 'level1_hospital_ratios',
        'patient_diagnoses', 'patient_treatments', 'patient_medical_services'].forEach(tableName => {
        if (!tableDefinitions[tableName]) {
            tableDefinitions[tableName] = {
                title: tableName,
                subtitle: `${tableName} - æ•°æ®è¡¨`,
                fields: [
                    { name: 'id', type: 'BIGINT', constraint: 'PRIMARY KEY', default: 'AUTO_INCREMENT', comment: 'ä¸»é”®ID' },
                    { name: '...', type: 'VARCHAR', constraint: '', default: '', comment: 'æ›´å¤šå­—æ®µè¯·å‚è€ƒæ•°æ®åº“è®¾è®¡æ–‡æ¡£' }
                ]
            };
        }
    });

    // è·å–æ•°æ®ç±»å‹çš„CSSç±»å
    function getTypeClass(type) {
        const typeMap = {
            'BIGINT': 'bigint',
            'VARCHAR': 'varchar',
            'INT': 'int',
            'DECIMAL': 'decimal',
            'DATETIME': 'datetime',
            'DATE': 'date',
            'TEXT': 'text',
            'TINYINT': 'tinyint',
            'ENUM': 'enum'
        };

        for (const [key, value] of Object.entries(typeMap)) {
            if (type.includes(key)) {
                return value;
            }
        }
        return 'varchar';
    }

    // è·å–çº¦æŸæ ‡ç­¾
    function getConstraintBadges(constraint) {
        const badges = [];
        if (constraint.includes('PRIMARY KEY')) {
            badges.push('<span class="key-indicator primary">PK</span>');
        }
        if (constraint.includes('UNIQUE')) {
            badges.push('<span class="key-indicator unique">UK</span>');
        }
        if (constraint.includes('FOREIGN KEY')) {
            badges.push('<span class="key-indicator foreign">FK</span>');
        }
        return badges.join('');
    }

    // æ˜¾ç¤ºè¡¨æ ¼è¯¦æƒ…
    function showTableDetails(tableName) {
        const definition = tableDefinitions[tableName];
        if (!definition) return;

        // éšè—å ä½ç¬¦
        document.querySelector('.placeholder').style.display = 'none';

        // æ˜¾ç¤ºè¯¦æƒ…
        const detailsElement = document.getElementById('table-details-template');
        detailsElement.classList.add('active');

        // è®¾ç½®æ ‡é¢˜
        document.getElementById('table-title').textContent = definition.title;
        document.getElementById('table-subtitle').textContent = definition.subtitle;

        // è®¡ç®—ç»Ÿè®¡ä¿¡æ¯
        const fieldCount = definition.fields.length;
        const indexCount = definition.fields.filter(f => f.constraint.includes('INDEX') || f.constraint.includes('KEY')).length;
        const keyCount = definition.fields.filter(f => f.constraint.includes('KEY') || f.constraint.includes('UNIQUE')).length;

        document.getElementById('field-count').textContent = fieldCount;
        document.getElementById('index-count').textContent = indexCount;
        document.getElementById('key-count').textContent = keyCount;

        // ç”Ÿæˆå­—æ®µè¡¨æ ¼
        const tbody = document.getElementById('fields-body');
        tbody.innerHTML = '';

        definition.fields.forEach(field => {
            const row = document.createElement('tr');
            row.innerHTML = `
                    <td>
                        <strong>${field.name}</strong>
                        ${getConstraintBadges(field.constraint)}
                    </td>
                    <td>
                        <span class="field-type ${getTypeClass(field.type)}">${field.type}</span>
                    </td>
                    <td>${field.constraint || '-'}</td>
                    <td><code>${field.default || '-'}</code></td>
                    <td>${field.comment}</td>
                `;
            tbody.appendChild(row);
        });
    }

    // ç»‘å®šç‚¹å‡»äº‹ä»¶
    document.addEventListener('DOMContentLoaded', function() {
        const tableItems = document.querySelectorAll('.table-item');

        tableItems.forEach(item => {
            item.addEventListener('click', function() {
                // ç§»é™¤å…¶ä»–é€‰ä¸­çŠ¶æ€
                tableItems.forEach(i => i.classList.remove('active'));

                // æ·»åŠ é€‰ä¸­çŠ¶æ€
                this.classList.add('active');

                // æ˜¾ç¤ºè¡¨æ ¼è¯¦æƒ…
                const tableName = this.getAttribute('data-table');
                showTableDetails(tableName);
            });
        });
    });
</script>
</body>
</html>